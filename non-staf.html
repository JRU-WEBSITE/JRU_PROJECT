<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>non-staf</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link href="common.css" rel="stylesheet">
    <link href="nav2.css" rel="stylesheet">
    <style>
        form {
            max-width: 90%;
            min-width: fit-content;
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: antiquewhite;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: small;
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            box-sizing: border-box;
        }

        /* .logo2 {
            display: flex;
            justify-content: center;
        }

        #universityLogo {
            max-width: 450px;
            height: auto;
            margin-bottom: 20px;
        } */

        div#navbarNav {
            width: unset;
        }

        /* Responsive Styles */
        @media only screen and (max-width: 600px) {

            form,
            #universityLogo {
                width: 90%;
            }
        }

        @media only screen and (max-width: 400px) {
            #Appraisal-heading {
                font-size: 27px;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://www.jru.edu.in/wp-content/themes/jrunew/images/jru-logo-ranchi.png" alt="JRU Logo"
                    class="logo">
            </a>
            <div id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item d-flex align-items-center justify-content-between">
                        <a class="nav-link" href="#"><i class='bx bxs-log-in-circle' data-bs-toggle="tooltip"
                                data-bs-placement="bottom" title="Log out"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- <div class="logo2">
        <img id="universityLogo" src="https://www.jru.edu.in/wp-content/themes/jrunew/images/jru-logo-ranchi.png"
            alt="University Logo">
    </div> -->

    <form id="appraisalForm">
        <h2 style="text-align: center;"><b id="Appraisal-heading">Appraisal 2021-22 - Self Assessment</b></h2>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Key Result Areas (KRAs) -->
                    <label for="kras">Explain Your Key Result Areas (KRAs):</label>
                    <textarea id="kras" name="kras" rows="4" required></textarea>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Contributions other than KRAs -->
                    <label for="contributions">Contributions Other Than KRAs:</label>
                    <textarea id="contributions" name="contributions" rows="4" required></textarea>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Capability in Problem Solving, Decision Making, and Leadership skills -->
                    <label for="skills">Capability in Problem Solving, Decision Making, and Leadership skills:</label>
                    <textarea id="skills" name="skills" rows="4" required></textarea>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Special Achievements -->
                    <label for="achievements">Special Achievements (During the year 2021-22):</label>
                    <textarea id="achievements" name="achievements" rows="4" required></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Self Development Initiatives -->
                    <label for="development">Self Development Initiatives:</label>
                    <textarea id="development" name="development" rows="4" required></textarea>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- Targets and Achievements (For Admission Team only) -->
                    <label for="targets">Targets and Achievements (For Admission Team only):</label>
                    <textarea id="targets" name="targets" rows="4"></textarea>
                </div>
            </div>
        </div>

        <!-- Employee Information -->
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="employeeName">Name:</label>
                    <input type="text" id="employeeName" name="employeeName" required>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="department">Department:</label>
                    <select id="department" name="department" required>
                        <option value="" disabled selected>Select Department</option>
                        <option value="Agricultural">Agricultural</option>
                        <option value="Pharmacy">Pharmacy</option>
                        <option value="Medical Science">Medical Science</option>
                        <option value="Law">Law</option>
                        <option value="Mining">Mining</option>
                        <option value="Management">Management</option>
                        <option value="CS & IT">CS & IT</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="currentCTC">Current CTC:</label>
                    <input type="text" id="currentCTC" name="currentCTC" required>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="selfRating">Overall Self Rating (out of 10 points):</label>
                    <input type="number" id="selfRating" name="selfRating" min="0" max="10" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="form-group">
                    <label for="signature">Signature (Image under 100KB):</label>
                    <input type="file" id="signature" name="signature" accept="image/*" onchange="validateImageSize()"
                        required>
                    <small id="imageSizeError" style="color: red;"></small>
                </div>
            </div>
            <div class="col-sm-12" style="display: flex; justify-content: center;">
                <div class="form-group">
                    <!-- Submit Button -->
                    <button type="button" onclick="submitAppraisal()">Submit Appraisal</button>
                </div>
            </div>
        </div>
    </form>

    <script>
        if (window.innerWidth > 768) {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        }


        function validateImageSize() {
            const input = document.getElementById('signature');
            const errorElement = document.getElementById('imageSizeError');
            const maxSizeInBytes = 100 * 1024; // 100KB

            if (input.files.length > 0) {
                const fileSize = input.files[0].size;

                if (fileSize > maxSizeInBytes) {
                    errorElement.textContent = 'Image size must be under 100KB.';
                    input.value = ''; // Clear the file input
                } else {
                    errorElement.textContent = '';
                }
            }
        }

        function submitAppraisal() {
            // Fetch values from the form
            const kras = document.getElementById('kras').value;
            const contributions = document.getElementById('contributions').value;
            const skills = document.getElementById('skills').value;
            const achievements = document.getElementById('achievements').value;
            const development = document.getElementById('development').value;
            const targets = document.getElementById('targets').value;
            const employeeName = document.getElementById('employeeName').value;
            const department = document.getElementById('department').value;
            const currentCTC = document.getElementById('currentCTC').value;
            const selfRating = document.getElementById('selfRating').value;
            const signature = document.getElementById('signature').value;

            alert('Appraisal submitted successfully!');

            // Ensure the image size is under 100KB
            validateImageSize();
        }
    </script>

</body>

</html>